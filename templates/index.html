<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Conversor de Extratos Santander (PDF para CSV)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 py-4">
        <div class="container mx-auto px-4 flex items-center justify-between">
            <div class="text-xl font-bold text-red-600">
                <a href="/">Conversor Santander</a>
            </div>
            <div class="text-sm text-gray-600">
                <!-- Future links like "Pricing", "Contact", "Login" can go here -->
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="flex-grow">
        <div class="container mx-auto px-4 py-16 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
                Converta Extratos Banc√°rios em CSV F√°cil e Rapidamente
            </h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-8">
                Transforme os seus PDFs do Santander num ficheiro CSV unificado, pronto a importar em ferramentas de contabilidade, finan√ßas pessoais, ou an√°lise de dados.
            </p>
            <a href="#upload-section" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 rounded-lg inline-block">
                Come√ßar Agora
            </a>
        </div>
    </section>

    <!-- Upload & Conversion Section -->
    <section id="upload-section" class="pb-20">
        <div class="container mx-auto px-4">
            <div class="max-w-lg mx-auto bg-white rounded-lg shadow-lg p-8">
                {% if error %}
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6" role="alert">
                    <span class="block sm:inline">{{ error }}</span>
                </div>
                {% endif %}

                <h2 class="text-2xl font-bold text-center text-red-600 mb-6">
                    Carregar Extratos em PDF
                </h2>
                <p class="text-sm text-gray-600 text-center mb-6">
                    Selecione at√© 12 ficheiros PDF de extratos Santander para converter num √∫nico CSV.
                </p>

                <form action="{{ url_for('convert') }}" method="post" enctype="multipart/form-data" class="space-y-6">
                    <div class="flex items-center justify-center w-full">
                        <label class="w-full flex flex-col items-center px-4 py-6 bg-white text-blue-500 rounded-lg shadow-lg tracking-wide uppercase border border-blue-500 cursor-pointer hover:bg-blue-50">
                            <svg class="w-8 h-8 text-red-600 mb-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <path d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
                            </svg>
                            <span class="text-base leading-normal text-gray-700">Selecionar ficheiros PDF</span>
                            <input type='file' class="hidden" name="files[]" accept=".pdf" multiple required />
                        </label>
                    </div>
                    
                    <div id="fileList" class="text-sm text-gray-600 mt-2"></div>
                    
                    <button type="submit" class="w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition duration-200 font-semibold">
                        Converter para CSV
                    </button>
                </form>
                
                <div class="mt-6 text-xs text-gray-500 text-center">
                    <p>A sua privacidade √© importante para n√≥s. Os ficheiros s√£o processados localmente e eliminados ap√≥s a convers√£o.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Optional) -->
    <footer class="bg-white border-t border-gray-200 py-6">
        <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
            ¬© {{ "now"|date("Y") }} Conversor Santander. Todos os direitos reservados.
        </div>
    </footer>

    <script>
        document.querySelector('input[type="file"]').addEventListener('change', function(e) {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';
            
            if (this.files.length > 12) {
                alert('Por favor, selecione no m√°ximo 12 ficheiros');
                this.value = '';
                return;
            }
            
            Array.from(this.files).forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'py-1';
                fileItem.textContent = `üìÑ ${file.name}`;
                fileList.appendChild(fileItem);
            });
            
            const label = this.previousElementSibling;
            label.textContent = `${this.files.length} ficheiro(s) selecionado(s)`;
        });
    </script>
</body>
</html>

